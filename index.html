
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>html + css + js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="ansonchen">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="html + css + js">
<meta property="og:url" content="http://ansonchen.github.io/index.html">
<meta property="og:site_name" content="html + css + js">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="html + css + js">
<meta name="twitter:description">
<meta name="twitter:creator" content="@https://twitter.com/ansontw">
<link rel="publisher" href="101799212101565496157">

    
    <link rel="alternative" href="/atom.xml" title="html + css + js" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/lemur_256.png" alt="html + css + js" title="html + css + js"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="html + css + js">html + css + js</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页 | Home</a></li>
					
						<li><a href="/archives">归档 | Archives</a></li>
					
						<li><a href="/about">简介 | About</a></li>
					
					<li>
 					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" name="q" maxlength="20" placeholder="搜索" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/12/electronbug/" title="electron 遇到的坑" itemprop="url">electron 遇到的坑</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-10-12T09:03:32.347Z" itemprop="datePublished"> 发表于 2016-10-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>代码库：<a href="https://github.com/atom/electron" target="_blank" rel="external">https://github.com/atom/electron</a></p>
<p>官网：<a href="https://github.com/atom/electron" target="_blank" rel="external">http://electron.atom.io/</a></p>
<p>API:<a href="https://github.com/electron/electron/tree/master/docs/api" target="_blank" rel="external">https://github.com/electron/electron/tree/master/docs/api</a></p>
<h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/*滚动条样式*/</span><br><span class="line">::-webkit-scrollbar &#123;width: 6px; height: 6px; &#125;</span><br><span class="line">::-webkit-scrollbar-thumb &#123;min-height: 30px; border-radius: 4px; border: 5px solid #BCBCBC;&#125;</span><br><span class="line">::-webkit-scrollbar-corner &#123;background: transparent;&#125;</span><br><span class="line">::-webkit-scrollbar-track&#123;background-color: #F1F1F1;&#125;</span><br><span class="line">html,body&#123;height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.main&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">    top:4px;</span><br><span class="line">    right:4px;</span><br><span class="line">    bottom:7px;</span><br><span class="line">    left:4px;</span><br><span class="line">	/*BrowserWindow 设置transparent后，用main做shadow*/</span><br><span class="line">    box-shadow:rgba(0, 0, 0, 0.4) 0px 0px 7px -2px;</span><br><span class="line">	border-radius: 4px;</span><br><span class="line">	overflow: hidden;</span><br><span class="line">	header&#123;</span><br><span class="line">		/*可拖动*/</span><br><span class="line">        -webkit-app-region: drag;</span><br><span class="line">		overflow: hidden;</span><br><span class="line">		height:130px;</span><br><span class="line">		position: relative;</span><br><span class="line">        .windowBar&#123;height: 26px; position:relative;</span><br><span class="line">            a&#123;</span><br><span class="line">			   /*不可拖动，一定要写，否则点击无效果*/</span><br><span class="line">                -webkit-app-region: no-drag;</span><br><span class="line">				...</span><br></pre></td></tr></table></figure>
<h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><blockquote>
<p>直接上index.js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> electron = <span class="built_in">require</span>(<span class="string">'electron'</span>);</span><br><span class="line"><span class="comment">// 控制应用生命周期的模块。</span></span><br><span class="line"><span class="keyword">const</span> &#123;app&#125; = electron;</span><br><span class="line"><span class="comment">// 创建原生浏览器窗口的模块。</span></span><br><span class="line"><span class="keyword">const</span> &#123;BrowserWindow,Tray,Menu,ipcMain &#125; = electron;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 保持一个对于 window 对象的全局引用，如果你不这样做，</span></span><br><span class="line"><span class="comment">// 当 JavaScript 对象被垃圾回收， window 会被自动地关闭</span></span><br><span class="line"><span class="keyword">let</span> mainWindow;</span><br><span class="line"><span class="keyword">let</span> appIcon = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWindow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> iconImagePath = path.join(__dirname, <span class="string">'/pc/static/css/img/public/logo60.png'</span>);</span><br><span class="line">  <span class="comment">// 创建浏览器窗口。</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> BrowserWindow(&#123;</span><br><span class="line">      width: <span class="number">300</span>,</span><br><span class="line">      height: <span class="number">700</span>,</span><br><span class="line">      minWidth:<span class="number">300</span>,</span><br><span class="line">      maxWidth:<span class="number">900</span>,</span><br><span class="line">      minHeight:<span class="number">550</span>,</span><br><span class="line">      icon:iconImagePath,</span><br><span class="line">      transparent:<span class="literal">true</span>, <span class="comment">//设置透明后，shadow无效果，要在样式中添加</span></span><br><span class="line">      frame:<span class="literal">false</span></span><br><span class="line">  &#125;);</span><br><span class="line"> <span class="keyword">const</span> modalPath = path.join(<span class="string">'file://'</span>, __dirname, <span class="string">'/pc/main.html'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 加载应用的 index.html。</span></span><br><span class="line">  mainWindow.loadURL(modalPath);</span><br><span class="line">  <span class="comment">//mainWindow.loadURL(`file://$&#123;__dirname&#125;/pc/main.html`);</span></span><br><span class="line">  <span class="comment">// 启用开发工具。</span></span><br><span class="line">  <span class="comment">//mainWindow.webContents.openDevTools();</span></span><br><span class="line"></span><br><span class="line">  mainWindow.on(<span class="string">'closed'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="comment">// 取消引用 window 对象，如果你的应用支持多窗口的话，</span></span><br><span class="line">    <span class="comment">// 通常会把多个 window 对象存放在一个数组里面，</span></span><br><span class="line">    <span class="comment">// 与此同时，你应该删除相应的元素。</span></span><br><span class="line">    mainWindow = <span class="literal">null</span>;</span><br><span class="line">     <span class="keyword">if</span> (appIcon) appIcon.destroy();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Electron 会在初始化后并准备</span></span><br><span class="line"><span class="comment">// 创建浏览器窗口时，调用这个函数。</span></span><br><span class="line"><span class="comment">// 部分 API 在 ready 事件触发后才能使用。</span></span><br><span class="line">app.on(<span class="string">'ready'</span>, createWindow);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当全部窗口关闭时退出。</span></span><br><span class="line">app.on(<span class="string">'window-all-closed'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="comment">// 在 macOS 上，除非用户用 Cmd + Q 确定地退出，</span></span><br><span class="line">  <span class="comment">// 否则绝大部分应用及其菜单栏会保持激活。</span></span><br><span class="line">  <span class="keyword">if</span> (appIcon) appIcon.destroy();</span><br><span class="line">  <span class="keyword">if</span> (process.platform !== <span class="string">'darwin'</span>) &#123;</span><br><span class="line">    app.quit();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'activate'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="comment">// 在 macOS 上，当点击 dock 图标并且该应用没有打开的窗口时，</span></span><br><span class="line">  <span class="comment">// 绝大部分应用会重新创建一个窗口。</span></span><br><span class="line">  <span class="keyword">if</span> (mainWindow === <span class="literal">null</span>) &#123;</span><br><span class="line">    createWindow();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//添加任务栏图标</span></span><br><span class="line">ipcMain.on(<span class="string">'put-in-tray'</span>, (event) =&gt; &#123;</span><br><span class="line">    <span class="comment">//注意此处没有'file://'</span></span><br><span class="line">    <span class="keyword">const</span> iconPath = path.join(__dirname, <span class="string">'/pc/static/css/img/public/logo.jpg'</span>);</span><br><span class="line">    appIcon = <span class="keyword">new</span> Tray(iconPath);</span><br><span class="line">    <span class="keyword">const</span> contextMenu = Menu.buildFromTemplate([</span><br><span class="line">        &#123;</span><br><span class="line">        label: <span class="string">'显示'</span>,</span><br><span class="line">        click: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">              event.sender.send(<span class="string">'show-main-window'</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        label: <span class="string">'退出'</span>,</span><br><span class="line">        click: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">              event.sender.send(<span class="string">'tray-removed'</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    ])</span><br><span class="line">    appIcon.setToolTip(<span class="string">'工作宝'</span>)</span><br><span class="line">    appIcon.setContextMenu(contextMenu)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ipcMain.on(<span class="string">'remove-tray'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (appIcon) appIcon.destroy();</span><br><span class="line">    mainWindow.close();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ipcMain.on(<span class="string">'close-main-window'</span>,  () =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWindow) &#123;</span><br><span class="line">        mainWindow.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">ipcMain.on(<span class="string">'mini-main-window'</span>,  () =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWindow) &#123;</span><br><span class="line">        <span class="comment">//mainWindow.minimize();</span></span><br><span class="line">        mainWindow.hide();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ipcMain.on(<span class="string">'show-main-window'</span>,  () =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (mainWindow) &#123;</span><br><span class="line">        <span class="comment">//mainWindow.minimize();</span></span><br><span class="line">        mainWindow.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//另开设置窗口</span></span><br><span class="line"> <span class="keyword">var</span> settingsWindow = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">ipcMain.on(<span class="string">'open-settings-window'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (settingsWindow) &#123;</span><br><span class="line"></span><br><span class="line">        settingsWindow.close();</span><br><span class="line">        settingsWindow = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    settingsWindow = <span class="keyword">new</span> BrowserWindow(&#123;</span><br><span class="line">        height: <span class="number">600</span>,</span><br><span class="line">        resizable: <span class="literal">false</span>,</span><br><span class="line">        titleBarStyle: <span class="string">'hidden'</span>,</span><br><span class="line">        <span class="comment">//frame:false,</span></span><br><span class="line">        width: <span class="number">800</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    settingsWindow.loadURL(<span class="string">`file://<span class="subst">$&#123;__dirname&#125;</span>/pc/setting.html`</span>);</span><br><span class="line"></span><br><span class="line">    settingsWindow.on(<span class="string">'closed'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        settingsWindow = <span class="literal">null</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">ipcMain.on(<span class="string">'close-settings-window'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (settingsWindow) &#123;</span><br><span class="line">        settingsWindow.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>html里调接口</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;ipcRenderer&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</span><br><span class="line"></span><br><span class="line">ipcRenderer.send(<span class="string">'put-in-tray'</span>);</span><br><span class="line">ipcRenderer.on(<span class="string">'tray-removed'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  ipcRenderer.send(<span class="string">'remove-tray'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">ipcRenderer.on(<span class="string">'show-main-window'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  ipcRenderer.send(<span class="string">'show-main-window'</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/js/">js</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a><a href="/tags/electron/">electron</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/12/electronbug/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/12/electronbug/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/10/12/electron/" title="开始使用 electron" itemprop="url">开始使用 electron</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-10-12T08:43:03.205Z" itemprop="datePublished"> 发表于 2016-10-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>代码库：<a href="https://github.com/atom/electron" target="_blank" rel="external">https://github.com/atom/electron</a></p>
<p>官网：<a href="https://github.com/atom/electron" target="_blank" rel="external">http://electron.atom.io/</a></p>
<p>API:<a href="https://github.com/electron/electron/tree/master/docs/api" target="_blank" rel="external">https://github.com/electron/electron/tree/master/docs/api</a></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><p>为什么要设置环境变量呢？是因为打包或运行的时候需要下载对应的二进制文件，这些二进制文件下载速度奇慢奇慢的，如果我们使用淘宝CDN的话可以把这速度提升得杠杠的。</p>
<blockquote>
<p>如果你是linux用户，设置临时环境变量，直接执行</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ELECTRON_MIRROR=http://npm.taobao.org/mirrors/electron/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果你是windows用户，请依次执行: 计算机-&gt;右键-&gt;属性-&gt;高级系统设置-&gt;环境变量-&gt;在用于(或者系统)变量下点击-&gt;新建</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变量名：ELECTRON_MIRROR</span><br><span class="line">变量值：http://npm.taobao.org/mirrors/electron/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>全局安装 electron 及打包工具</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g electron-prebuilt</span><br><span class="line">npm install -g electron-packager</span><br></pre></td></tr></table></figure>
<h2 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h2><blockquote>
<p>初始化package.json</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>
<p>一路回车即可。</p>
<blockquote>
<p>package.json文件代码示例</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"electron"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">      <span class="string">"start"</span>: <span class="string">"electron ."</span>,</span><br><span class="line">      <span class="string">"build"</span>: <span class="string">"electron-packager ./ electron --platform=win32 --arch=x64 --version=1.0.0 --overwrite"</span>,</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"electron"</span>: <span class="string">"^1.4.1"</span></span><br><span class="line"> &#125;,</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="主线程文件-index-js"><a href="#主线程文件-index-js" class="headerlink" title="主线程文件 index.js"></a>主线程文件 index.js</h3><blockquote>
<p>代码来自<a href="https://github.com/electron/electron/blob/master/docs-translations/zh-CN/tutorial/quick-start.md" target="_blank" rel="external">https://github.com/electron/electron/blob/master/docs-translations/zh-CN/tutorial/quick-start.md</a></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> electron = <span class="built_in">require</span>(<span class="string">'electron'</span>)</span><br><span class="line"><span class="comment">// 控制应用生命周期的模块。</span></span><br><span class="line"><span class="keyword">const</span> &#123;app&#125; = electron</span><br><span class="line"><span class="comment">// 创建原生浏览器窗口的模块。</span></span><br><span class="line"><span class="keyword">const</span> &#123;BrowserWindow&#125; = electron</span><br><span class="line"></span><br><span class="line"><span class="comment">// 保持一个对于 window 对象的全局引用，如果你不这样做，</span></span><br><span class="line"><span class="comment">// 当 JavaScript 对象被垃圾回收， window 会被自动地关闭</span></span><br><span class="line"><span class="keyword">let</span> mainWindow</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWindow</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 创建浏览器窗口。</span></span><br><span class="line">  mainWindow = <span class="keyword">new</span> BrowserWindow(&#123;width: <span class="number">800</span>, height: <span class="number">600</span>&#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 加载应用的 index.html。</span></span><br><span class="line">  mainWindow.loadURL(<span class="string">`file://<span class="subst">$&#123;__dirname&#125;</span>/index.html`</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 启用开发工具。</span></span><br><span class="line">  mainWindow.webContents.openDevTools()</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 当 window 被关闭，这个事件会被触发。</span></span><br><span class="line">  mainWindow.on(<span class="string">'closed'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="comment">// 取消引用 window 对象，如果你的应用支持多窗口的话，</span></span><br><span class="line">    <span class="comment">// 通常会把多个 window 对象存放在一个数组里面，</span></span><br><span class="line">    <span class="comment">// 与此同时，你应该删除相应的元素。</span></span><br><span class="line">    mainWindow = <span class="literal">null</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Electron 会在初始化后并准备</span></span><br><span class="line"><span class="comment">// 创建浏览器窗口时，调用这个函数。</span></span><br><span class="line"><span class="comment">// 部分 API 在 ready 事件触发后才能使用。</span></span><br><span class="line">app.on(<span class="string">'ready'</span>, createWindow)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当全部窗口关闭时退出。</span></span><br><span class="line">app.on(<span class="string">'window-all-closed'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="comment">// 在 macOS 上，除非用户用 Cmd + Q 确定地退出，</span></span><br><span class="line">  <span class="comment">// 否则绝大部分应用及其菜单栏会保持激活。</span></span><br><span class="line">  <span class="keyword">if</span> (process.platform !== <span class="string">'darwin'</span>) &#123;</span><br><span class="line">    app.quit()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'activate'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="comment">// 在 macOS 上，当点击 dock 图标并且该应用没有打开的窗口时，</span></span><br><span class="line">  <span class="comment">// 绝大部分应用会重新创建一个窗口。</span></span><br><span class="line">  <span class="keyword">if</span> (mainWindow === <span class="literal">null</span>) &#123;</span><br><span class="line">    createWindow()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在这文件，你可以续写应用剩下主进程代码。</span></span><br><span class="line"><span class="comment">// 也可以拆分成几个文件，然后用 require 导入。</span></span><br></pre></td></tr></table></figure>
<h3 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    We are using node <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"><span class="built_in">document</span>.write(process.versions.node)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>,</span><br><span class="line">    Chrome <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"><span class="built_in">document</span>.write(process.versions.chrome)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>,</span><br><span class="line">    and Electron <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"><span class="built_in">document</span>.write(process.versions.electron)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>.</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><blockquote>
<p>electron-prebuilt 是一个 npm 模块，包含所使用的 Electron 预编译版本。 如果你已经用 npm 全局安装了它，你只需要按照如下方式直接运行你的应用</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">electron .</span><br></pre></td></tr></table></figure>
<h3 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">electron-packager &lt;sourcedir&gt; &lt;appname&gt; --platform=&lt;platform&gt; --arch=&lt;arch&gt; --version=&lt;version&gt;</span><br><span class="line">// 命令示例</span><br><span class="line">electron-packager ./ electron --platform=win32 --arch=x64 --version=1.0.0 --overwrite</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/js/">js</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a><a href="/tags/electron/">electron</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/10/12/electron/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/10/12/electron/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/30/ddj/" title="德道经全文" itemprop="url">德道经全文</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-06-30T01:15:43.019Z" itemprop="datePublished"> 发表于 2016-06-30</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="第一章-論德（38）"><a href="#第一章-論德（38）" class="headerlink" title="第一章 論德（38）"></a>第一章 論德（38）</h2><p>上德不德，是以有德；下德不失德，是以无德。<br>上德无爲，而无以爲也；上仁爲之，而无以爲也；上義爲之，而有以爲也。上禮爲之，而莫之應也，則攘臂而乃之。<br>故失道而後德，失德而後仁，失仁而後義，失義而後禮。夫禮者，忠信之泊也，而亂之首也。<br>前識者，道之華也，而愚之首也。<br>是以大丈夫居其厚，而不居其泊；居其實，而不居其華。故去皮取此。</p>
<h2 id="第二章-得一（39）"><a href="#第二章-得一（39）" class="headerlink" title="第二章 得一（39）"></a>第二章 得一（39）</h2><p>昔之得一者：天得一以清，地得一以寧，神得一以霝，浴得一以盈，侯王得一以爲天下正。其至之也。<br>謂天毋已清將恐裂，謂地毋已寧將恐發，謂神毋已靈將恐歇，謂浴毋已盈將恐竭，謂侯王毋已貴以高將恐蹶。<br>故必貴而以賤爲本，必高矣而以下爲基。<br>夫是以侯王自謂孤、寡、不穀。此其賤之爲本欤？非也！<br>故致數與无與，是故不欲祿祿若玉，硌硌若石。</p>
<h2 id="第三章-聞道（41）"><a href="#第三章-聞道（41）" class="headerlink" title="第三章 聞道（41）"></a>第三章 聞道（41）</h2><p>上士聞道，堇能行之；中士聞道，若存若亡；下士聞道，大笑之。弗笑不足以爲道。<br>是以建言有之曰：明道如費，進道如退，夷道如類；上德如浴，大白如辱，廣德如不足，建德如輸，質真如渝；大方无隅，大器晚成，大音希聲；天象无刑，道隱无名。<br>夫唯道，善始且善成。</p>
<h2 id="第四章-反復（40）"><a href="#第四章-反復（40）" class="headerlink" title="第四章 反復（40）"></a>第四章 反復（40）</h2><p>反也者，道之動也；弱也者，道之用也。<br>天下之物生於有，有生於无。</p>
<h2 id="第五章-中和（42）"><a href="#第五章-中和（42）" class="headerlink" title="第五章 中和（42）"></a>第五章 中和（42）</h2><p>道生一，一生二，二生三，三生萬物。<br>萬物負陰而抱陽，中氣以爲和。<br>天下之所惡，唯孤、寡、不穀，而王公以爲自名也。<br>勿或损之而益，或益之而损。<br>覲殷死，議而教人。<br>故強良者不得死，我將以爲學父。</p>
<h2 id="第六章-至柔（43）"><a href="#第六章-至柔（43）" class="headerlink" title="第六章 至柔（43）"></a>第六章 至柔（43）</h2><p>天下之至柔，馳騁於天下之致堅。<br>无有入於无閒，吾是以知无爲之有益。<br>不言之教，无爲之益，天下希能及之矣。</p>
<h2 id="第七章-立戒（44）"><a href="#第七章-立戒（44）" class="headerlink" title="第七章 立戒（44）"></a>第七章 立戒（44）</h2><p>名與身孰親？身與貨孰多？得與亡孰病？<br>甚愛必大費，多藏必厚亡。<br>故知足不辱，知止不殆，可以長久。</p>
<h2 id="第八章-請靚（45）"><a href="#第八章-請靚（45）" class="headerlink" title="第八章 請靚（45）"></a>第八章 請靚（45）</h2><p>大成若缺，其用不幣；大盈若冲，其用不穷；大直若詘，大巧若拙，大贏如绌。<br>趮勝寒，靚勝炅。請靚可以爲天下正。</p>
<h2 id="第九章知足（46）"><a href="#第九章知足（46）" class="headerlink" title="第九章知足（46）"></a>第九章知足（46）</h2><p>天下有道，卻走馬以糞；天下无道，戎馬生於郊。<br>罪莫大於可欲，祸莫大於不知足，咎莫憯於欲得。<br>故知足之足，恆足矣。</p>
<h2 id="第十章-知天下（47）"><a href="#第十章-知天下（47）" class="headerlink" title="第十章 知天下（47）"></a>第十章 知天下（47）</h2><p>不出於戶，以知天下；不規於牖，以知天道。<br>其出也弥遠，其知也弥少。<br>是以聖人，不行而知，不見而名，弗爲而成。</p>
<h2 id="第十一章-无爲（48）"><a href="#第十一章-无爲（48）" class="headerlink" title="第十一章 无爲（48）"></a>第十一章 无爲（48）</h2><p>爲學者日益，聞道者日損。損之又損，以至於无爲。无爲而无不爲。<br>將欲取天下者恆无事，及其有事也，不足以取天下。</p>
<h2 id="第十二章-德善（49）"><a href="#第十二章-德善（49）" class="headerlink" title="第十二章 德善（49）"></a>第十二章 德善（49）</h2><p>聖人恆无心，以百姓之心爲心。<br>善者善之，不善者亦善之；德善也。<br>信者信之，不信者亦信之；德信也。<br>聖人之在天下，翕翕焉，爲天下渾心，百姓皆屬其耳目焉，聖人皆咳之。</p>
<h2 id="第十三章-生死（50）"><a href="#第十三章-生死（50）" class="headerlink" title="第十三章 生死（50）"></a>第十三章 生死（50）</h2><p>出生，入死。<br>生之徒十有三；死之徒十有三；而民生生，動皆之死地之十有三。<br>夫何故也？以其生生也。<br>蓋聞善執生者，陵行不辟兕虎，入軍不被甲兵；兕无所椯其角，虎无所昔其爪，兵无所容其刃。<br>夫何故也？以其无死地焉。</p>
<h2 id="第十四章-尊貴（51）"><a href="#第十四章-尊貴（51）" class="headerlink" title="第十四章 尊貴（51）"></a>第十四章 尊貴（51）</h2><p>道生之，而德畜之，物形之，而器成之。<br>是以萬物尊道而貴德。<br>道之尊，德之貴也，夫莫之爵而恆自祭也。<br>道生之、畜之；長之、遂之，亭之、毒之，養之、覆之。<br>生而弗有也，爲而弗寺也，長而弗宰也。此之謂玄德。</p>
<h2 id="第十五章-守母（52）"><a href="#第十五章-守母（52）" class="headerlink" title="第十五章 守母（52）"></a>第十五章 守母（52）</h2><p>天下有始，以爲天下母。<br>既得其母，以知其子，復守其母，沒身不殆。<br>塞其悶，閉其門，終身不堇。<br>啓其悶，濟其事，終身不救。<br>見小曰明，守柔曰強。<br>用其光，復歸其明。</p>
<h2 id="第十六章-盜桍（53）"><a href="#第十六章-盜桍（53）" class="headerlink" title="第十六章 盜桍（53）"></a>第十六章 盜桍（53）</h2><p>毋道身殃，是謂襲常。<br>使我介有知也，行於大道，唯施是畏。<br>大道甚夷，民甚好解。<br>朝甚除，田甚蕪，倉甚虛；服文采，帶利劍，厭食而齎財有餘；是謂盜桍。<br>盜桍，非道也！</p>
<h2 id="第十七章-善觀（54）"><a href="#第十七章-善觀（54）" class="headerlink" title="第十七章 善觀（54）"></a>第十七章 善觀（54）</h2><p>善建者不拔，善抱者不脫，子孫以祭祀不絕。<br>修之身，其德乃真；修之家，其德有餘；修之鄉，其德乃長；修之邦，其德乃豐；修之天下，其德乃博。<br>以身觀身，以家觀家，以鄉觀鄉，以邦觀邦，以天下觀天下。<br>吾何以知天下然茲？以此。</p>
<h2 id="第十八章-含德（55）"><a href="#第十八章-含德（55）" class="headerlink" title="第十八章 含德（55）"></a>第十八章 含德（55）</h2><p>含德之厚者，比於赤子。蜂蝲地弗螫，攫鳥猛獸弗搏。骨弱筋柔而握固。未知牝牡之合而朘怒，精之至也。終日號而不忧，和之至也。<br>和曰常，知和曰明；益生曰祥，心使氣曰強。<br>物壯即老，謂之不道，不道早已。</p>
<h2 id="第十九章-玄同（56）"><a href="#第十九章-玄同（56）" class="headerlink" title="第十九章 玄同（56）"></a>第十九章 玄同（56）</h2><p>知者弗言，言者弗知。<br>塞其悶，閉其門，和其光，同其尘，锉其兌而解其紛，是謂玄同。<br>故不可得而親，亦不可得而踈；不可得而利，亦不可得而害；不可得而貴，亦不可得而淺。故爲天下貴。</p>
<h2 id="第二十章-治邦（57）"><a href="#第二十章-治邦（57）" class="headerlink" title="第二十章 治邦（57）"></a>第二十章 治邦（57）</h2><p>以正之邦，以畸用兵，以无事取天下。吾何以知其然也哉？<br>夫天下多忌諱，而民彌貧；民多利器，而邦家茲昏；人多知，而奇物茲起；法物茲彰，而盜賊多有。<br>是以聖人之言曰：我无爲也，而民自化；我好靜，而民自正；我无事，民自富；我欲不欲，而民自朴。</p>
<h2 id="第二十一章-爲正（58）"><a href="#第二十一章-爲正（58）" class="headerlink" title="第二十一章 爲正（58）"></a>第二十一章 爲正（58）</h2><p>其正qi qi，其民屯屯；其正察察，其邦夬夬。<br>禍，福之所倚；福，禍之所伏。孰知其極？<br>其无正也。正復爲奇，善復爲訞。<br>人之迷也，其日固久矣。<br>是以方而不割，兼而不刺，直而不絏，光而不耀。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/德道经/">德道经</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/德道经/">德道经</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/30/ddj/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/30/ddj/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/15/zxyx/" title="真气运行五步功成" itemprop="url">真气运行五步功成</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-06-15T02:39:57.621Z" itemprop="datePublished"> 发表于 2016-06-15</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>“<code>恬惔虚无，真气从之，精神内守，病安从来。</code>”意即只要清静无为，真气便可从之而生，旺盛地运行，神不外驰则“正气存内而邪不可干”，邪不能侵，病无由来。 “圣人不治已病治未病”的学说，应是《黄帝内经》的主旨。这一理论，即三圣之道的“全真导气”法。但是，现存《素问》八卷中没有“全真导气”方法方面的具体内容，这当然是个谜。 </p>
<p>真气运行法是笔者经六十余年的实践探索，集各家经典之至理，用通俗易懂的语言，揭示人体生命活动的生理机制，以先天生后天、后天返先天的科学理论，创编了真气运行静功五步功法。经多年的普及推广，其反馈信息，确有防病治病、健身延年的效果。<br>千古之谜今方晓，羸劣获安仁寿高。</p>
<h2 id="一、五步功成"><a href="#一、五步功成" class="headerlink" title="一、五步功成"></a>一、五步功成</h2><p>常有人问多长时间才能功成？我们的回答是，按着要求自己锻炼，一百天左右可以达到沟通任督脉，就算初步成功了。在老师指导下，集中时间练功，一般百时左右就可以通督。每个人的身体条件各异，进步的速度也不一致。一般规律是，青年人比老年人快，健康人比病人快，女性比男性快。只要持之以恒，必有效验，水到渠成。只要真气充实了，自然可以逐步贯通任督二脉。兹将具体的操作方法分五个步骤说明如下。
　</p>
<h3 id="第一步-呼气注意心窝部"><a href="#第一步-呼气注意心窝部" class="headerlink" title="第一步 呼气注意心窝部"></a>第一步 呼气注意心窝部</h3><p>1.方法：练功条件准备好，即缩小视野，心不外驰。注意鼻尖少时，即可闭目内视(也就是注意)心窝部，用耳朵细听自己的呼气，不要发出粗糙的声音，在呼气的同时，意念随呼气趋向心窝部。吸气时任其自然，不要加任何意识行为。再呼时仍如前法，久久行之，真气即在心窝部集中起来。这个方法，就是排除杂念的好方法，如果还是杂念纷扰，也可用数息法，即呼气默数一，再呼气默数二，这样一直数到十，再从一到十反覆操作，直到杂念不再兴起，即可放弃数息法。</p>
<p>为了达到气沉丹田的目的，必须要注意呼气，不要在吸气上打扰。思想不能集中，是初步者的必然现象。杂念一起，即便打断，屡起屡断，不要畏难而退。坚持一至两周，自然就克服了。</p>
<p>补充：<code>心窝是指胃部，是一个部位，不需要刻意聚焦在巨阙穴。有些门派是意守膻中穴，李少波老师反对意守膻中穴，他说这样容易伤肺，造成憋气！</code><br>　<br>2.时间：如果想要如期完成这一段的练习，在时间上就要有一定的安排。若是条件许可的话，每天在固定的时间练习，养成习惯，对稳定思想有帮助。没有定时的条件也不要紧，只要抓紧练习就行。要求每日早、中、晚三次，每次20分钟。如果认真操作，十天左右即可完成第一步的功候。<br>　<br>3.反应：练功三至五天，即感到心窝部沉重。五至十天，每一呼气时即感到有一股热流注入心窝部，这是真气集中的表现。有了真气的集中，就给第二步打好了基础。如果开始就想气沉丹田，初学不易掌握，一时见不到效果，就有可能因此而终止。<br>　<br>4.效果：开始几天由于不习惯，姿势也不够准确，会感到头晕，腰背酸困，呼吸也不自然，舌尖抵不住上腭等，这都是必然的现象。不要有顾虑，只要坚持锻炼慢慢就会自然。
　</p>
<h3 id="第二步-意息相随丹田趋"><a href="#第二步-意息相随丹田趋" class="headerlink" title="第二步 意息相随丹田趋"></a>第二步 意息相随丹田趋</h3><p>这一步功即“<code>气沉丹田</code>”，“沉”的方法为“意息相随”。 “相随”一词力图说明中丹田的气聚集到一定程度，应该以完全自然的呼吸为好。有了注意丹饵的意念，真气自然随之而下。</p>
<p>1.方法：当第一步功做到每一呼气即觉心窝部发热时，就可意息相随，自心窝部开始，呼气注意丹田，不可操之过急。用力太大产生高热也不舒服。<br>　<br>2.时间：依法每日三次，每次25分钟或半小时，十天左右就可以气沉丹。<br>　<br>3.反应：每次呼气都感到一般热流送入丹田。往往小腹汨汨作响，肠蠕动增强，矢气现象增多。这是真气到小腹，肠功能发生改变，驱逐邪气的一种表现。<br>　<br>4.效果：由于真气已通过胃区，脾胃功能已有改善，真气沉入丹田后，周围脏器如大小肠、膀胱、肾等都逐步发生生理上的改变，一般都感到食欲增加，大小便异常现象有不同程度的改善。<br>补充：真气往丹田移动时，如果碰到开刀的伤口，移动速度会受阻变慢，而且会出现刺痛感，等通过后才会恢复正常。
　</p>
<h3 id="第三步-调息凝神守丹田"><a href="#第三步-调息凝神守丹田" class="headerlink" title="第三步 调息凝神守丹田"></a>第三步 调息凝神守丹田</h3><p>明代张三丰解凝神曰：“凝神者，收已清之心而入其内也。心未清时眼勿乱闭，先要自劝自勉，劝得回来，清凉恬瞻，始行收入气穴，乃曰凝神。”并说：“调息不难，心神一静，随意自然，我只守其自然，加以神光下照，即调息也。”“凝神调息，只要心平气和。心平则神凝，气和则息调。心平，平字最妙，心不起波谓之平，心执其中谓之平，平即在此中也。心在此中，乃不起波，此中即丹经之玄关一窍也。”</p>
<p>1.方法：当第二步功做到丹田有了明显感觉，就可以把呼气有意无意地止于丹田。不要过分注意呼气往下送，以免发热太过，耗伤阴液，犯“壮火食气”之弊。呼吸自然，只将意念守在丹田部位，用文火温养。 “少火生气”正是此义。<br>　<br>2.时间：每日三次，每次增至半小时以上。这一阶段是在丹田培养实力，需要时间较长，四十天左右可以感到小腹充实有力。<br>　<br>3.反应：基于第二步气沉丹田，小腹发热明显，十数日后小腹内形成气丘。随着功夫的增长，气丘也越来越大，小腹的力量感到充实。待有足够的力量，即向下游动，有时阴部作痒，会阴跳动，四肢有时活动发热，腰部发热等，以上感觉出现的迟早也是因人而异。<br>　<br>4.效果：由于任脉通畅，心肾相交，中气旺盛，因此心神安泰，睡眠安静。凡心火上炎，失眠多梦，以及心脏不健康的疾患都应有所好转。通过练功不断地给胃肠增加热能，脾胃消化吸收能力增强，体重增加。有的患者练到一定时间(多在第三步后期)每周体重增加5至8斤不等。但已经增足本人原来体重，则不再激增。精力充沛，元气充足，肾功能增强，患有阳痿病症的即大有好转，女子月经不调均有不同程度的改善。肾水旺盛，肝得滋荣。因此在这阶段，患有慢性肝炎和初期肝硬化的都有明显好转。<br>补充：<br>女性月经期间，只守心窝，不守丹田。<br>不要意守病灶，还是要守丹田，等丹田气充足了，才有力道疏通病灶处的淤积。
　</p>
<h3 id="第四步-通督勿忘复勿助"><a href="#第四步-通督勿忘复勿助" class="headerlink" title="第四步 通督勿忘复勿助"></a>第四步 通督勿忘复勿助</h3><p>1.方法：意守丹田四十天左右，真气充实到一定程度，有了足够的力量时，即沿脊柱上行打通督脉。在上行的时候，意识随着上行的力量(勿忘)，若行到某处停下来，也不以意识向上导引(勿助)。上行的快慢是基于丹田的力量如何。若实力尚不足，它就停下来不动。待丹田力量再充实，自然继续上行。若急于通关，努力导引，会和丹田力量脱节，这是非常有害的。过去把这种情况喻为“揠苗助长”，因此必须顺其自然，这时的真气活动情况是不以人的意志为转移的。如果上行到“玉枕关”通不过，内视头顶就可以通过了。<br>　<br>2.时间：每天可酌情增加坐功次数，每次时间也应延长到40分钟或1小时左右。因每个人的情况不同，有的人一刹那就通过了。这样通过的力量都很猛，震动也很大。有的须经数小时或数天才能通过，大多数是在一周左右。通关是后天返先天的生理现象，人人可通。<br>　<br>3.反应：在第三步的基础上丹田充实，小腹饱满，会阴跳动，后腰发热，命门处感觉真气活跃，即“肾间动气”，自觉有一股力量沿脊柱上行。这种活动现象是因人而异。有人真气培养充足，一股热力直冲而上，势力很猛，一次通过督脉。有的行行驻驻，数日方可通过。有的像水银柱一样，随呼吸上下活动，渐次上行。在督脉未通之前，背部常有往上拔的样子。如向后倾可以及时将身体调整一下。头部周围拘紧，有时沉闷不适，这是通督前必有的现象。有些人遇到此种情况，常产生惧怕心理，不敢再练，前功尽弃，殊为可惜！在这一阶段中，必须坚持加功，不可疑虑放松，一旦督脉通过后自然轻松愉快。在真气运行法的整个过程中，通督脉是一个飞跃，是个关键性的进步，为攀登更高峰奠定了基础。过去把这一步叫“积气冲关”(即尾间关、夹脊关、玉枕关)，也称为“后天返先天、由外呼吸返还出生之前“胎息”，鼻息微微，若存若无，体内真气自动循环。张三丰说：“不出不入，无来无去，是谓胎息，是谓神息，是为真橐龠，真炉鼎，是为归根复命，是为玄牝之门，天地之根。气到此时，如花方蕊，如胎方胞，自然真气熏蒸营卫，由尾间穿夹脊，升上泥丸，下鹊桥，过重楼，至绛宫而落于中丹田，是为河车初动。 ”<br>　<br>4.效果：督脉通畅后，一呼真气入丹田，一吸真气入脑海，一呼一吸形成任督循环，古称“小周天”。只有在这种情况下，才能具体地体会到“呼吸精气，独立守神”的实际情况。精气不断地补益脑髓，大脑皮层的本能力量增强。凡由于肾精亏损和内分泌紊乱所引起的头晕耳鸣、失眠健忘、腰酸腿软、月经不调、精神恍惚、易喜易怒、心慌气短、性欲减退等症状，都可以得到改善。长期坚持，可望康复。有的人因经络不通而多年不愈的顽症也可霍然而愈，效果是非常明显的。一般人的表现是精力充沛，身体轻捷，判若两人。</p>
<blockquote>
<p>小周天歌<br>微撮谷道暗中提，尾间一转皱夹脊。<br>玉枕难过目视顶，行到天庭稍停息。<br>眼前便是鹊桥路，十二重楼降下迟。<br>华池神水频频咽，直入丹田海底虚。</p>
</blockquote>
<h3 id="第五步-元神蓄力育生机"><a href="#第五步-元神蓄力育生机" class="headerlink" title="第五步 元神蓄力育生机"></a>第五步 元神蓄力育生机</h3><p>所谓元神，即大脑调节管制的本能力量。 《脉望》云：“内念不萌，外想不入，独我自主。”与识神一词对立。识神为有意识的精神状态。元神与识神亦为体和用的关系。元神为体，识神为用。</p>
<p>《黄帝内经》说：“脑为元神之府。”元君居于最高位置，统御着全身各个系统组织，发挥其互相制约、互相依存的生理作用，并适应外界环境而生存。元神为元精所化生。 《灵枢‧经脉》说：“人始生，先成精，精成而脑髓生……”肾精充实，人聪明多智，肾气虚衰，则昏聩善忘，脑转耳鸣。肾气充足与否，关系着人体强弱寿夭，故《黄帝内经》强调积精全神以养生。</p>
<p>督脉既通，肾气不断灌溉脑髓，元神的力量就不断得到补充。又心主神明，心气上照于脑，才能发挥其全面的调节管制作用。元神实以肾阴为体，以心阳为用。根据实践，实为心肾交合于中丹田，阴阳再合之混元一气(真气)。在上丹田表现出光色体，灵动活泼的“性”，这是一般人见不到的。俗话说：性格、秉性、性命、性理。儒家说：“天命之谓性”。都说明是先天禀赋，人皆有之。只因后天迷失，越走越远。所谓“性相近，习相远”。经过“真法”的锻炼，恢复本来面目。</p>
<p>1.方法：原则上还是守丹田。丹田是长期意守的部位。通督以后，各个经脉都相继开通。如头顶百会穴处出现活动力量，也可意守头顶。可以灵活掌握，所谓“有欲观窍，无欲观妙”，就是在练功不同阶段的思想处理方法。<br>　<br>2.时间：每日三次，每次一小时或更长一些，总的来说时间越长效果越好。尚需练习一个月左右时间，各种触动现象才能逐渐消失，只余下丹田与上丹田的力量更加集中旺盛。<br>　<br>3.反应：在通督脉的前后数十天内浑身常似有电流窜动，皮肤发麻发痒似虫蚁爬行。眉心鼻骨紧张，环唇麻紧，身体有时温热，有时凉爽。皮肤随呼吸而动，吸时向里收合向上浮起，呼时向外扩散向下沉降，有时轻浮缥缈，有时重如泰山，有时无限高大，有时极度缩小，有时身躯自发运动等，这都是经络通畅、内呼吸旺盛、真气活动的表现。但是，这些表现也是因人而异。遇到这些触动情况，不要追求，也不要惊恐，安心坐下去自然平复。坐到极静的时候，以上各种现象都消失了，鼻息微微，若存若无，而内行的真气更加集中旺盛，灵动活泼，明朗愉悦。在丹田则如水涵珠，在百会则如月华涌现。这种境界为真气充足、生物电集中的表现。<br>　<br>4.效果：根据身体的表现，尤其丹田与头顶百会穴互相吸引的磁性力量说明，实为大脑皮层的本能力量增强，内分泌协调而旺盛。这种力量有形有色，功夫越深，表现得越明显，对全身的生理机能的调节就更好，真气也就更加充实，不断地补偿和增强身体的代谢机能，可充分发挥机体的潜在力量。活力旺盛，抗病免疫力就增强了，一般致病因素就可大大减少或避免，原有的沉疴痼疾也可得到改善或痊愈。坚持锻炼，就可以达到身心健康长寿。人到学识经验比较成熟之后，又具有这样活力旺盛的身体，就可以更愉快地为人民服务了。
　</p>
<h3 id="结语-有无相生通真路"><a href="#结语-有无相生通真路" class="headerlink" title="结语_有无相生通真路"></a>结语_有无相生通真路</h3><p>以上五步功法是循序渐进的。由于实现真气运行的五个步骤所要解决的具体矛盾不同，采取的方式方法也就不一样。它们之间又有共同的基本点，就是集中真气，贯通经络，实现真气运行改善体质，所以它们又是互相联系不可分割的统一体。前一步是后一步的基础，后一步又是前一步发展的必然趋势。概括来看，真气运行的整个过程中，身体将发生三种不同的变化。第一、二两步主要是通过一定的形式，调整呼吸推动真气，使体内真气集中于丹田。这个阶段古时称为“炼精化气”，这是第一阶段，也是初级阶段。第三、四两步是以丹田积足的真气，冲通督脉逆运而上，直达脑海，恢复和增强大脑的功能，提高大脑皮层的保护性抑制力量。这一阶段叫做“炼气化神”，是中级阶段，身体的变化比较明显。第五步以后，功夫更加纯熟，由于经络畅通无阻，功中产生的各种触动现象也都逐渐平静，真气运行的规律性逐渐提高。机体功能增强，活力旺盛，大脑皮层的保护性抑制力量发挥得更好。因此静境更加明显，表现为清清静静、心如止水的样子。这一阶段叫做“炼神还虚”，属于真气运行的高级阶段。</p>
<p>以上五个步序、三个阶段，是真气运行法静功锻炼过程中的基本概况。在实践中，由于每个人的体质不同，具体条件又不一样，所以效果与表现也不同。鉴于此，练功时既要顺乎自然，灵活运用，不能刻意拘执，又要本着一定的要求，耐心求进，持之以恒，不可自由放任，实为成功之要诀。</p>
<p>关于动与静的关系将在第三章中阐明。只有在身心安静的条件下，才能做到真气的集中与运行。所以在真气运行法的练功过程中始终强调一个静字，甚至一个人的功夫进度快慢深浅，也取决于静的程度如何。一些美好的内景，总是在高度的入静情况下才能出现。为了保持这种静境，在练功时要求大脑皮层高度地抑制由客观世界所引起的刺激。</p>
<p>真气运行法之所以要抑制外界刺激因素的影响，是为了致力于内部正邪两方面的斗争，以达到调节内气、培养本元、祛除疾病的目的。坐功时，外形虽静而内部斗争是非常激烈的。只有通过内在的矛盾斗争，才能为真气运行扫除障碍。练功的人都会体会到，特别是身体有疾病的人，当功夫到了一正程度，患病部位总是格外不舒服。一旦这种不舒服的感觉解除，病患也就消失了。正当不舒服的时候，也就是斗争激烈的时候。这就说明了内部正邪斗争的过程和效应。</p>
<h2 id="二、真气运行法姿势"><a href="#二、真气运行法姿势" class="headerlink" title="二、真气运行法姿势"></a>二、真气运行法姿势</h2><p>初学真气运行法要有正确的姿势，这个姿势自然是有利于真气运行的。虽然在思想方法上破除了一些不必要的清规戒律，但是仍须有一定的姿势和方法，作为初学者的规范。</p>
<p>练习真气运行有行、立、坐、卧四种形式，其中以坐式为主，其他姿势为辅。为有效地促使真气运行不断进步，除坐式以外，还可随时随地采取多法进行。</p>
<p>1.坐式：坐式有盘腿和垂腿两种姿势，主要按照个人习惯和环境条件自行选择。一般认为盘腿坐过于形式化，且易麻腿。因此，一般采用垂腿(坐椅凳)坐式较为便利。</p>
<p>(1)盘腿坐式<br>“双盘式”是把左脚放在右大腿上面，再把右脚搬到左大腿上，两手相合置于小腹前面。这个坐法只是为了坐得稳固不易动摇，但没有相当功夫不易做到。</p>
<p>“单盘式”是把右腿放在左腿上面，手势如前法。这比双盘式易于做到。</p>
<p>“自由盘腿”是将两腿互相交叉而盘坐，是一般人习惯用的坐式。</p>
<p>(2)垂腿坐式</p>
<p>坐在高低适宜的椅凳上，以坐下来大腿面保持水平为度，小腿垂直，两脚平行着地，两膝间的距离以能放下两拳(<code>拳眼相对</code>)为准。两手心向下，自然放在大腿面上。两肩下垂，腰须直，勿用力，不要驼背、仰面、低头。下颌略内收，头顶如悬。体态以端正自然为标准。此式为现代习惯采用之姿势(图3-4)。<br>　<br>2.卧式：右侧着床，伸下腿屈上腿，右手曲肱将手置于头之前下侧枕上，左手放在左膀上，此式为坐功之辅助，亦适用于体弱不能坐者(图3-5)。<br>　<br>3.站式：站式有各种姿势，在这里介绍方便易行的一个姿势，作为坐功之辅助。两脚并立，两手覆于丹田(左掌心覆于丹田，右掌心覆于左手背上)。松肩垂肘，含胸拔背，虚心实腹，眼半垂帘。一切要求同坐式(图3-6)。<br>　<br>4.行式：行路和散步时，目视前方三五步处，意守鼻尖，神不外驰，依行路的速度，一般为三步一呼，一步一吸，四步一个呼吸。如能长期锻炼此法，对走远路很有帮助，可以久行不倦。</p>
<h2 id="三、对五官的要求"><a href="#三、对五官的要求" class="headerlink" title="三、对五官的要求"></a>三、对五官的要求</h2><p>1.口腔：口唇自然闭合，上下齿相对，将舌上卷约成90°，用舌尖轻轻地抵住上腭。唾液分泌得多了，将舌放下慢慢地咽下去。咽津是很有益的，可以帮助消化，滋润脏腑。古人说：“气是添年药，津为续命芝。”又千口水可成“活”，由此可见咽津的重要性了。<br>　<br>2.眼睛：闭目内视，练哪一步功就内视哪一部位。如第一步注意心窝部，就内视心窝部。若坐功时思怨很乱，不能控制的时候，就把眼睛睁开，或注意鼻端片刻，把思路打断，闭目再坐。过去把这个方法叫做“慧剑斩乱丝”。<br>　<br>3.耳朵：用耳朵留意自己的呼吸，使呼吸不要发出粗糙的声音。保持从容自然，不可闭气使呼吸不畅，这是集中思想的好方法 。<br>　<br>4.呼吸：怎样呼吸是真气运行法的关键问题。在练习真气运行法的过程中，一直是注意呼气，吸气任其自然，不加注意，自无流弊。<br>丹田真气充实后，自然地贯通督脉。此时即感到一呼真气入丹田，一吸真气沿督脉入脑。这是真气的自然活动状态，无须追求。外呼吸则绵绵密密，若存若无，呼吸表现得更加自然。这时外呼吸就无须注意了。</p>
<h2 id="四、练功须知"><a href="#四、练功须知" class="headerlink" title="四、练功须知"></a>四、练功须知</h2><p>练真气运行法，必须树立坚定不移的信心，持之以恒，勿求速成，也不要畏难而退。在锻炼期间，要顺乎自然，不要执意妄想，勉强追求。否则，欲速列不达，越是一意追求，有急躁情绪，就越是不进步。意态越是融和自然，真气发动就越活泼，进步就越明显。执意妄想就成了扰乱真气运行的杂念。 “<code>恬惔虚无，真气从之</code>”正是这个意思。</p>
<p>在练功过程中，身体上会发生很多生理上的变化，出现各种触动现象，要泰然处之，不必惊慌失措，稍时便会消失的，也不要执意追求。</p>
<p>1.初习真气运行法，思想要集中，有一个比较安静的环境为好，但是，不要过分强调这个问题 。在练功时，要避免他人干扰。调息时，鼻吸鼻呼，注意呼气，吸气任其自然，不可用口呼吸。</p>
<p>2.注意不要在大饥、大饱、大怒、大惊等情况下勉强做功。当风、雨、雷响时暂勿坐，以免给精神以猛烈刺激，发生不适。</p>
<p>3.意守丹田是真气运行法始终坚持的一个准则。因为丹田是真气汇集之处，是生命的本源之地。因此，始终不能离开它。注意心窝部是集中真气贯通任脉，使真气更有效地集中于丹田。当丹田真气充实到一定程度，会自然地顺着经络运行。这种运行的力量，是由丹田力量的大小而决定的。勿用意识导引，顺其自然，要行则行，要止则止，主观导引是会出偏差的。</p>
<h2 id="五、练功问答"><a href="#五、练功问答" class="headerlink" title="五、练功问答"></a>五、练功问答</h2><p>本文摘自《李少波真气运行法》–中国中医药出版社，建议大家买回来细细阅读！<br>誉为“至道之宗，奉生之始”的中医学经典《黄帝内经》，其修真窍要、奉生绝技被“师氏藏之”而始终没能大白于天下。唐代医学家王冰预言“至道流行，徽音累属，千载之后，方显大圣之兹惠无穷。”<br>从中医养生学角度，《黄帝内经》一书被誉为“至道之宗，奉生之始”，可见中医养生学理论和实践，概源于此。据汉代史学家班固的《汉书‧艺文志》记载，成书于战国时期的《黄帝内经》原本有十八卷，其中《素问》九卷、《灵枢》九卷。然而千余年后，至唐‧宝应年间，所见到的《内经素问》“仅八卷尔”。 “虽复年移代革，授学犹存，惧非其人，而时有所隐。故第七一卷，师氏藏之”，而致湮没。尽管其学理犹存，而养生方法却为前人所秘。<br>王冰，号启玄子，据考生于唐‧景云元年(公元710年)，卒于唐‧贞元二十年(公元804年)，享年94岁。王氏弱龄慕道，夙好养生，精歧黄之学，尤笃好医方，为唐代著名的医学养生家。因其在医学养生学上的杰出贡献，官拜太仆令(主管医疗卫生的最高行政长官)，致力于《黄帝内经》的研究整理，有鉴于“世本纰缪，篇目重叠，前后不伦，文义悬隔，施行不易，披会亦难”，乃精勤博访，“受得先师张公秘本，文字昭晰，义理环周，一以参详，群疑冰释”，历一十二载，于唐‧宝应元年(公元762年)，撰成《重广补注黄帝内经素问》二十四卷，及至今日对中医学的继承和发展仍有着深远的影响。正因为他幼年体弱，故特别重视养生，从医、道之中汲取养生学理，勤而行之，使他健康长寿。因此他视《黄帝内经》为“真经”，奉为“至道之宗”，是深受其益的肺腑之言。因先贤有戒，而精到实用诀窍，却为其所秘。 《素问‧金匮真言论》云：“非其人勿教，非其人勿传，是谓得道。”据传王冰当时确是得到真传，并躬亲实践有得，且将先师口授秘诀撰成《玄珠密语》十卷，藏于五岳之洞中，冀以传于异人，而不敢私自示人传世。只是对此绝妙养生法宝的盛行寄厚望于后世，并睿智预言：“至道流行，徽音累属，千载之后，方显大圣之慈惠无穷！”</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/真气/">真气</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/真气/">真气</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/15/zxyx/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/15/zxyx/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/27/nodeserver/" title="快速打造静态服务器" itemprop="url">快速打造静态服务器</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-05-27T09:25:49.916Z" itemprop="datePublished"> 发表于 2016-05-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="前提是已经安装node"><a href="#前提是已经安装node" class="headerlink" title="前提是已经安装node"></a>前提是已经安装node</h3><h3 id="新建-package-json"><a href="#新建-package-json" class="headerlink" title="新建 package.json"></a>新建 <code>package.json</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"projectname"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>:<span class="string">"快速打造静态服务器"</span>,</span><br><span class="line">  <span class="string">"dependencies"</span>: &#123;</span><br><span class="line">  	<span class="string">"express"</span>: <span class="string">"3.4.8"</span>,</span><br><span class="line">    <span class="string">"socket.io"</span>: <span class="string">"~0.9.6"</span>,</span><br><span class="line">    <span class="string">"mime"</span>: <span class="string">"~1.2.7"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>npm start</p>
</blockquote>
<h3 id="新建-server-js"><a href="#新建-server-js" class="headerlink" title="新建 server.js"></a>新建 <code>server.js</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">var</span> mime = <span class="built_in">require</span>(<span class="string">'mime'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cache = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">send404</span>(<span class="params">response</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        response.writeHead(<span class="number">404</span>, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>&#125;);</span><br><span class="line">        response.write(<span class="string">'Error 404 : resoure not found'</span>);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendFile</span>(<span class="params">response,filePath,fileContents</span>)</span>&#123;</span><br><span class="line">    response.writeHead(<span class="number">200</span>,&#123;<span class="string">'content-type'</span>:mime.lookup(path.basename(filePath))&#125;);</span><br><span class="line">    <span class="comment">//fs.createReadStream(fileContents).pipe(response);</span></span><br><span class="line">    response.end(fileContents);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">serveStatic</span>(<span class="params">response,cache,absPath</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cache[absPath])&#123;</span><br><span class="line">        sendFile(response,absPath,cache[absPath]);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        fs.exists(absPath,<span class="function"><span class="keyword">function</span>(<span class="params">exists</span>)</span>&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(exists)&#123;</span><br><span class="line">                fs.readFile(absPath,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">                    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                        send404(response);</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        cache[absPath]  = data;</span><br><span class="line">                        sendFile(response,absPath,data);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                &#125;)</span><br><span class="line"></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">                 send404(response);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">        &#125;)</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server  = http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">request,response</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> filePath = <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(request.url == <span class="string">'/'</span>)&#123;</span><br><span class="line">        filePath  = <span class="string">'public/index.html'</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    </span><br><span class="line">        filePath  = <span class="string">'public'</span> + request.url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> absPath = <span class="string">'./'</span> + filePath;</span><br><span class="line">    </span><br><span class="line">    serveStatic(response,cache,absPath);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'server listening on port 3000.'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>node server.js<br>让node一直后台运行 <code>nohup node server.js &amp;</code></p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/js/">js</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a><a href="/tags/node/">node</a><a href="/tags/距离/">距离</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/27/nodeserver/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/27/nodeserver/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/19/jsdom/" title="js 操作 dom 的各种距离" itemprop="url">js 操作 dom 的各种距离</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-05-19T08:06:18.963Z" itemprop="datePublished"> 发表于 2016-05-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><img src="/img/other/jsdom.png" alt=""></p>
<p><code>元素显示时，doing...</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> wh = <span class="built_in">window</span>.innerHeight;                 <span class="comment">//可见窗口高度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bec = div.getBoundingClientRect().top;   <span class="comment">//元素相对于窗口高度</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> ( (wh <span class="number">-100</span>) &gt; bec  ) &#123; <span class="comment">// 元素出现在窗口中</span></span><br><span class="line">      </span><br><span class="line"><span class="comment">//something...</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.onscroll = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">var</span> bec = num1.getBoundingClientRect().top;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ( (wh <span class="number">-100</span>) &gt; bec  ) &#123;</span><br><span class="line"></span><br><span class="line">           <span class="comment">//something...</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">window</span>.onscroll = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/js/">js</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a><a href="/tags/距离/">距离</a><a href="/tags/dom/">dom</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/19/jsdom/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/19/jsdom/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/13/cssrecord/" title="常用 css 记录" itemprop="url">常用 css 记录</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-05-13T12:40:42.029Z" itemprop="datePublished"> 发表于 2016-05-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="平分"><a href="#平分" class="headerlink" title="平分"></a>平分</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line"><span class="attribute">display</span>: -webkit-box;  </span><br><span class="line"><span class="attribute">display</span>: -moz-box;  </span><br><span class="line"><span class="attribute">display</span>: box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span> <span class="selector-class">.child</span>&#123;</span><br><span class="line"><span class="attribute">-moz-box-flex</span>: <span class="number">1</span>;  </span><br><span class="line"><span class="attribute">-webkit-box-flex</span>: <span class="number">1</span>;</span><br><span class="line"> <span class="attribute">box-flex</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="去除iphone-默认-input-样式："><a href="#去除iphone-默认-input-样式：" class="headerlink" title="去除iphone 默认 input 样式："></a>去除iphone 默认 input 样式：</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="iphone按住效果："><a href="#iphone按住效果：" class="headerlink" title="iphone按住效果："></a>iphone按住效果：</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attribute">-webkit-tap-highlight-color</span>:<span class="built_in">rgba</span>(250,250,250,0); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>注：iphone按住后外框padding:6px</p>
<h3 id="iphone-事件链接"><a href="#iphone-事件链接" class="headerlink" title="iphone 事件链接"></a>iphone 事件链接</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line"><span class="attribute">text-decoration</span>: none; <span class="attribute">pointer-events</span>: none; <span class="attribute">color</span>: <span class="number">#fff</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="iphone-1px问题"><a href="#iphone-1px问题" class="headerlink" title="iphone 1px问题:"></a>iphone 1px问题:</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attribute">border-width</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">0</span>;</span><br><span class="line"><span class="attribute">-webkit-border-image</span>: <span class="built_in">url</span>(/m/img/index0408/iListBorder-v.png) <span class="number">2</span> <span class="number">0</span> stretch;</span><br><span class="line"><span class="attribute">border-image</span>: <span class="built_in">url</span>(/m/img/index0408/iListBorder-v.png) <span class="number">2</span> <span class="number">0</span> stretch;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">OR</span>:</span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">     <span class="attribute">content</span>: <span class="string">" "</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">      <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">      <span class="attribute">-webkit-transform-origin</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">transform-origin</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">-webkit-transform</span>: <span class="built_in">scale</span>(0.5);</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scale</span>(0.5);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Galxy-不支持-getCurrentPosition"><a href="#Galxy-不支持-getCurrentPosition" class="headerlink" title="Galxy 不支持 getCurrentPosition"></a>Galxy 不支持 getCurrentPosition</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">详见帖：http://stackoverflow.com/questions/18100442/samsung-galaxy-devices-cant-use-geolocation-getcurrentposition</span><br><span class="line">解决方法：运行一次google map,并定位</span><br></pre></td></tr></table></figure>
<h3 id="手机点击效果"><a href="#手机点击效果" class="headerlink" title="手机点击效果"></a>手机点击效果</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a &#123;  </span><br><span class="line">  -webkit-user-drag: none;</span><br><span class="line">  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);</span><br><span class="line">  -webkit-tap-highlight-color: transparent; </span><br><span class="line">    text-decoration: none;</span><br><span class="line">    &amp;:active&#123;</span><br><span class="line">      opacity: 0.6;</span><br><span class="line">      filter: alpha(opacity=60);</span><br><span class="line">      -webkit-box-shadow: none;</span><br><span class="line">      box-shadow: none;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;:focus&#123;  outline: 0 none;&#125;</span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">        text-decoration: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/css/">css</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/css/">css</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/13/cssrecord/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/13/cssrecord/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/10/hexosearch/" title="动手打造无依赖 hexo search (基于jacman)" itemprop="url">动手打造无依赖 hexo search (基于jacman)</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-05-10T08:20:48.699Z" itemprop="datePublished"> 发表于 2016-05-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>网上对hexo的搜索基本上都是依赖于<code>google</code>、<code>x度</code>、<code>swiftype</code>的，区区一个搜索，何必依赖于第三方，哈哈，只见我大笔一挥，留下四个字，easy job. <a href="https://github.com/ansonchen/jacman.git" target="_blank" rel="external">git</a></p>
<p><a href="/2016/05/10/duoshuostyle/">本站样式修改</a></p>
<h2 id="快速安装"><a href="#快速安装" class="headerlink" title="快速安装"></a>快速安装</h2><ul>
<li><a href="https://www.npmjs.com/package/hexo-generator-search" target="_blank" rel="external">安装 hexo-generator-search</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/ansonchen/jacman" target="_blank" rel="external">安装 jacman 修改版</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/ansonchen/jacman.git themes/jacman</span><br></pre></td></tr></table></figure>
<ul>
<li>别忘记</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<h2 id="详细方法"><a href="#详细方法" class="headerlink" title="详细方法"></a>详细方法</h2><blockquote>
<p>搜索结果预览，可以在本站输入试试</p>
</blockquote>
<p><img src="/img/other/searchresult.png" alt=""></p>
<h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><ul>
<li><p><a href="https://www.npmjs.com/package/hexo-generator-search" target="_blank" rel="external">安装 hexo-generator-search</a></p>
</li>
<li><p><a href="https://github.com/wuchong/jacman" target="_blank" rel="external">安装 jacman 主题</a></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><ul>
<li><code>根目录_config.yml</code> 文件最后添加</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br></pre></td></tr></table></figure>
<ul>
<li>生成<code>search.xml</code>文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<ul>
<li>修改 <code>themes\jacman\_config.yml</code> ,启用谷歌搜索</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">google_cse: </span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h3 id="修改相关文件"><a href="#修改相关文件" class="headerlink" title="修改相关文件"></a>修改相关文件</h3><ul>
<li>修改 <code>themes\jacman\layout\_partial\search.ejs</code> ,内容为</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"local-search-input"</span> <span class="attr">class</span>=<span class="string">"local-search-input"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-search-result"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>修改 <code>themes\jacman\layout\_partial\after_footer.ejs</code>,在第4行后面插入,如图所示</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&lt;%- config.root %&gt;js/search.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript">    </span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">document</span>.getElementById(<span class="string">'local-search-result'</span>))&#123;</span><br><span class="line">     	<span class="keyword">var</span> path = <span class="string">"/search.xml"</span>;</span><br><span class="line">     	searchFunc(path, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/other/jsadd.png" alt=""></p>
<ul>
<li>修改样式 <code>themes\jacman\source\css\_partial\article.styl</code>，在文件最后插入</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.search-result-list</span></span><br><span class="line">  <span class="selector-tag">background</span> <span class="selector-id">#ddd</span></span><br><span class="line"><span class="selector-class">.local-search-input</span></span><br><span class="line">  <span class="selector-tag">width</span> 90%</span><br><span class="line">  <span class="selector-tag">height</span> 34<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">padding</span> 6<span class="selector-tag">px</span> 12<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">margin</span> 20<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">font-size</span> 14<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">line-height</span>: 34<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">color</span> <span class="selector-id">#555555</span></span><br><span class="line">  <span class="selector-tag">background</span> <span class="selector-id">#ffffff</span></span><br><span class="line">  <span class="selector-tag">border</span> 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#cccccc</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> 4<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">box-shadow</span> <span class="selector-tag">inset</span> 0 1<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.075</span>)</span><br><span class="line"> <span class="selector-class">.search-result</span></span><br><span class="line">   <span class="selector-tag">word-break</span>: <span class="selector-tag">break-all</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>添加<code>search.js</code> 文件到目录 <code>themes\jacman\source\js</code> 文件内容如下，可直接下载本站文件<a href="/js/search.js">search.js</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Modify:Ansonchen 75526201@qq.com </span></span><br><span class="line"></span><br><span class="line">      		</span><br><span class="line"><span class="keyword">var</span> searchPost = <span class="function"><span class="keyword">function</span>(<span class="params">key,datas,resultObj</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> str=<span class="string">'&lt;div class=\"search-result-list\"&gt;'</span>;                </span><br><span class="line">                <span class="keyword">var</span> keywords = key.trim().toLowerCase().split(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">				</span><br><span class="line">                resultObj.innerHTML = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">if</span> (key.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                datas.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];                                                       </span><br><span class="line">                    <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">                        data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();     </span><br><span class="line">                    <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>,<span class="string">""</span>).toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">                    <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">                        keywords.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span>( index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span> )&#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        isMatch = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">"&lt;article class='post-expand post' itemprop='articleBody'&gt;&lt;header class='article-info clearfix'&gt;&lt;h1 itemprop='name'&gt;&lt;a href='"</span>+ data_url +<span class="string">"' class='search-result-title'&gt;"</span>+ data_title +<span class="string">"&lt;/a&gt;&lt;/h1&gt;&lt;/header&gt;&lt;div class='article-content'&gt;"</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>,<span class="string">""</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span>(start &lt; <span class="number">0</span>)&#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span>(start == <span class="number">0</span>)&#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span>(end &gt; content.length)&#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">var</span> match_content = content.substr(start, end); </span><br><span class="line"></span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">keyword</span>)</span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                                match_content = match_content.replace(regS, <span class="string">"&lt;code class=\"search-keyword\"&gt;"</span>+keyword+<span class="string">"&lt;/code&gt;"</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line">                            </span><br><span class="line">                            str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content +<span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">"&lt;/div&gt;&lt;footer class='article-footer clearfix'&gt;&lt;/footer&gt;&lt;/article&gt;"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">"&lt;/div&gt;"</span>;</span><br><span class="line">                resultObj.innerHTML = str;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span>(<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: <span class="string">"xml"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span>(<span class="params"> xmlResponse </span>) </span>&#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $( <span class="string">"entry"</span>, xmlResponse ).map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    title: $( <span class="string">"title"</span>, <span class="keyword">this</span> ).text(),</span><br><span class="line">                    content: $(<span class="string">"content"</span>,<span class="keyword">this</span>).text(),</span><br><span class="line">                    url: $( <span class="string">"url"</span> , <span class="keyword">this</span>).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">var</span> match = location.search.match(<span class="regexp">/q=([^&amp;]*)(&amp;|$)/</span>);			</span><br><span class="line">			<span class="keyword">if</span>(match &amp;&amp; match[<span class="number">1</span>])&#123;</span><br><span class="line">				<span class="keyword">var</span> keys = <span class="built_in">decodeURIComponent</span>(match[<span class="number">1</span>]); </span><br><span class="line">				</span><br><span class="line">				searchPost(keys,datas,$resultContent);</span><br><span class="line">				$input.value = keys;</span><br><span class="line">			  &#125;</span><br><span class="line">			</span><br><span class="line">            $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">				</span><br><span class="line">				 <span class="keyword">var</span> keys = <span class="keyword">this</span>.value;				</span><br><span class="line">				 searchPost(keys,datas,$resultContent);</span><br><span class="line">            &#125;);</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Enjoy-The-End"><a href="#Enjoy-The-End" class="headerlink" title="Enjoy. The End."></a>Enjoy. The End.</h3>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Hexo/">Hexo</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/Hexo/">Hexo</a><a href="/tags/search/">search</a><a href="/tags/jacman/">jacman</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/10/hexosearch/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/10/hexosearch/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/10/google/" title="chrome 直接下载官方安装包" itemprop="url">chrome 直接下载官方安装包</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-05-10T05:45:22.764Z" itemprop="datePublished"> 发表于 2016-05-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="chrome官方直接下载完整安装包"><a href="#chrome官方直接下载完整安装包" class="headerlink" title="chrome官方直接下载完整安装包"></a>chrome官方直接下载完整安装包</h3><p><a href="https://www.google.com/chrome/browser/desktop/index.html?system=true&amp;standalone=1" target="_blank" rel="external">chrome下载</a></p>
<p><code>前提是可以翻墙</code></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/chrome/">chrome</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/chrome/">chrome</a><a href="/tags/google/">google</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/10/google/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/10/google/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/05/10/mdedit/" title="md 编辑 常用标签" itemprop="url">md 编辑 常用标签</a>
  </h1>
  <p class="article-author">By
       
		<a href="https://plus.google.com/101799212101565496157?rel=author" title="ansonchen" target="_blank" itemprop="author">ansonchen</a>
		
  <p class="article-time">
    <time datetime="2016-05-10T02:08:05.166Z" itemprop="datePublished"> 发表于 2016-05-10</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="标题一"><a href="#标题一" class="headerlink" title="标题一"></a>标题一</h1><h2 id="标题二"><a href="#标题二" class="headerlink" title="标题二"></a>标题二</h2><h3 id="标题三"><a href="#标题三" class="headerlink" title="标题三"></a>标题三</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 标题一</span></span><br><span class="line"><span class="comment">## 标题二</span></span><br><span class="line"><span class="comment">### 标题三</span></span><br></pre></td></tr></table></figure>
<ul>
<li>列表一</li>
<li>列表二</li>
<li>列表三<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 列表一</span><br><span class="line">- 列表二</span><br><span class="line">- 列表三</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><code>标签</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`标签`</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>左有条横线<br>真的</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; 左有条横线</span><br><span class="line">&gt; 真的</span><br></pre></td></tr></table></figure>
<p> <em>斜体</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*斜体*</span><br></pre></td></tr></table></figure>
<p> <strong>粗体</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**粗体**</span><br></pre></td></tr></table></figure>
<p> <strong><em>又粗又斜</em></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">***又粗又斜***</span><br></pre></td></tr></table></figure>
<p><a href="http://ansonchen.github.io/">连接</a> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[连接](http://ansonchen.github.io/)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>文件</th>
<th>说明            </th>
</tr>
</thead>
<tbody>
<tr>
<td>xxx.js</td>
<td>文件说明</td>
</tr>
<tr>
<td>xxxxx.js</td>
<td>xxxxx.js文件说明</td>
</tr>
<tr>
<td>xxx.js</td>
<td>文件说明</td>
</tr>
<tr>
<td>xxxxx.js</td>
<td>xxxxx.js文件说明</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">文件  	| 说明			</span><br><span class="line">--------|---------------------------</span><br><span class="line">xxx.js | 文件说明</span><br><span class="line">xxxxx.js | xxxxx.js文件说明</span><br><span class="line">xxx.js | 文件说明</span><br><span class="line">xxxxx.js | xxxxx.js文件说明</span><br></pre></td></tr></table></figure>
<p><img src="/img/lemur_256.png" alt=""><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](/img/lemur_256.png)</span><br></pre></td></tr></table></figure></p>
<p><a href="https://pandao.github.io/editor.md/examples/images/7.jpg" title="李健首张专辑《似水流年》封面" target="_blank" rel="external"><img src="https://pandao.github.io/editor.md/examples/images/7.jpg" alt=""></a></p>
<blockquote>
<p>图为：李健首张专辑《似水流年》封面</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[![](https://pandao.github.io/editor.md/examples/images/7.jpg)](https://pandao.github.io/editor.md/examples/images/7.jpg <span class="string">"李健首张专辑《似水流年》封面"</span>)</span><br><span class="line">&gt; 图为：李健首张专辑《似水流年》封面</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/md/">md</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/md/">md</a><a href="/tags/tag/">tag</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/05/10/mdedit/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/05/10/mdedit/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Hexo/" title="Hexo">Hexo<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/JavaScript/" title="JavaScript">JavaScript<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/chrome/" title="chrome">chrome<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/css/" title="css">css<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/js/" title="js">js<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/md/" title="md">md<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/德道经/" title="德道经">德道经<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/真气/" title="真气">真气<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/js/" title="js">js<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/距离/" title="距离">距离<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/electron/" title="electron">electron<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/duoshuo/" title="duoshuo">duoshuo<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/github/" title="github">github<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/md/" title="md">md<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/tag/" title="tag">tag<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/德道经/" title="德道经">德道经<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/node/" title="node">node<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/google/" title="google">google<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/search/" title="search">search<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/jacman/" title="jacman">jacman<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/真气/" title="真气">真气<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/dom/" title="dom">dom<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ES5/" title="ES5">ES5<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/chrome/" title="chrome">chrome<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://css-tricks.com/examples/ShapesOfCSS/" target="_blank" title="css-tricks">css-tricks</a>
            
          </li>
        
          <li>
            
            	<a href="http://echarts.baidu.com/" target="_blank" title="echarts">echarts</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Ansonchen in GZB. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/https://github.com/ansonchen" target="_blank" class="icon-github" title="github"></a>
		
		
		
		<a href="https://twitter.com/https://twitter.com/ansontw" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/https://www.facebook.com/anson.chen.501" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		
		
		
		<a href="https://plus.google.com/101799212101565496157?rel=author" target="_blank" class="icon-google_plus" title="Google+"></a>
		
		
		<a href="mailto:chen.tiansong@gmail.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="ansonchen">ansonchen</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>
<script src="/js/search.js"></script> 
	<script type="text/javascript">    
		if(document.getElementById('local-search-result')){
     	var path = "/search.xml";
     	searchFunc(path, 'local-search-input', 'local-search-result');
			}
   </script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?c8fe478c2ea12ef042ac60a2b0efe07c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
